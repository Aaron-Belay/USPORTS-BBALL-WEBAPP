{% extends "base.html" %}

{% block content %}
<div class="container mx-auto">
    <h1 class="text-center text-gray-500 font-bold text-xl md:text-3xl py-2">
        {{ league }} League
      </h1>
      <a href="#" onclick="history.go(-1)" class="inline-block">
        <img src="https://www.svgrepo.com/show/478704/arrow-button-left-3.svg" alt="Back" class="w-10 h-10">
    </a>
    
    <div class="flex flex-row  justify-evenly w-full">
        <div class="basis-1/3">
            <img src="{{ url_for('static', filename='team_logos/' + team.team_name +'.png') }}" alt="Team Logo"
                class="max-w-15 max-h-15" />
            <div class="font-bold text-xl pl-8 ">{{ team.team_name }}</div>
        </div>
        
        <div class=" basis-1/2 grid grid-cols-2 ">
            <div class="font-bold">Total Wins: &nbsp; {{ team.total_wins }}</div>
            <div class="font-bold">Total Losses: &nbsp; {{ team.total_losses }}</div>
            <div class="font-bold">Win Percentage: &nbsp; {{ team.win_percentage }}</div>
            <div class="font-bold">Games Played: &nbsp; {{ team.games_played }}</div>
            <div class="font-bold">Last Ten Games: &nbsp; {{ team.last_ten_games }}</div>
            <div class="font-bold">Streak: &nbsp; {{ team.streak }}</div>
        </div>
       
    </div>

    <h2 class="text-center font-bold mt-5 py-5">Key Players</h2>

    <div style="margin: 0 auto;"
        class="team-container w-full md:w-11/12 team-header rounded-lg shadow-md my-5 text-center">
        <table class="w-full">
            <thead >
                <tr class="text-xs my-4">
                    <th></th>
                    <th>PPG</th>
                    <th>RPG</th>
                    <th>APG</th>
                    <th>SPG</th>
                    <th>BPG</th>
                </tr>
            </thead>
            <tbody>
                {% for player in players %}

                <tr class="py-4 odd:bg-slate-900">
                    <td>
                        <div class="flex items-center">
                            <span class="font-bold">{{ player.lastname_initials }}. {{ player.first_name }}</span>
                        </div>
                    </td>
                    <td>
                        {{ (player.total_points / player.games_played) | round(1) }}
                    </td>
                    <td>
                        {{ (player.total_rebounds / player.games_played) | round(1) }}
                    </td>
                    <td>
                        {{ (player.assists / player.games_played) | round(1)}}
                    </td>
                    <td>
                        {{ (player.steals / player.games_played) | round(1) }}
                    </td>
                    <td>
                        {{ (player.blocks / player.games_played) | round(1)}}
                    </td>
                </tr>


                {% endfor %}
            </tbody>
        </table>
    </div>

</div>
{% endblock %}